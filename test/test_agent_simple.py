"""
æ™ºèƒ½ä½“æµ‹è¯•è„šæœ¬ - ç®€å•ç‰ˆæœ¬

è¿™ä¸ªè„šæœ¬ç”¨äºæµ‹è¯•æ™ºèƒ½ä½“çš„åŸºæœ¬åŠŸèƒ½ï¼š
1. è®¾ç½®æµ‹è¯•ç¯å¢ƒï¼ˆAPIå¯†é’¥æ£€æŸ¥ï¼‰
2. å®šä¹‰æµ‹è¯•ä»»åŠ¡
3. è¿è¡Œæ™ºèƒ½ä½“
4. å±•ç¤ºæ‰§è¡Œç»“æœ

æµ‹è¯•ç”¨ä¾‹è¯´æ˜ï¼š
- é€‰æ‹©äº†ä¸€ä¸ªä¸­ç­‰å¤æ‚åº¦çš„ä»»åŠ¡ï¼ˆåˆ¶å®šå­¦ä¹ è®¡åˆ’ï¼‰
- æ—¢éœ€è¦è§„åˆ’èƒ½åŠ›ï¼ˆåˆ†è§£å­¦ä¹ ä»»åŠ¡ï¼‰
- ä¹Ÿéœ€è¦æ‰§è¡Œèƒ½åŠ›ï¼ˆå…·ä½“å®‰æ’æ—¶é—´å’Œå†…å®¹ï¼‰
"""

import sys
import os
# æ·»åŠ é¡¹ç›®æ ¹ç›®å½•åˆ°Pythonè·¯å¾„
sys.path.append(os.path.join(os.path.dirname(__file__), '..'))

from agent.agents import run_agent
from agent.api_setting import API_KEY

# ==================== æµ‹è¯•ä»»åŠ¡å®šä¹‰ ====================
# é€‰æ‹©ä¸€ä¸ªé€‚ä¸­å¤æ‚åº¦çš„ä»»åŠ¡æ¥æµ‹è¯•æ™ºèƒ½ä½“èƒ½åŠ›
simple_objective = "å¸®æˆ‘åˆ¶å®šä¸€ä¸ªç®€å•çš„å‘¨æœ«å­¦ä¹ è®¡åˆ’ï¼ŒåŒ…æ‹¬ç¼–ç¨‹ç»ƒä¹ å’Œé˜…è¯»"

print("ğŸš€ å¼€å§‹è¿è¡Œæ™ºèƒ½ä½“...")
print(f"ğŸ¯ ç›®æ ‡: {simple_objective}")
print("=" * 60)

# ==================== æ‰§è¡Œæ™ºèƒ½ä½“ ====================
try:
    # è°ƒç”¨æ™ºèƒ½ä½“æ‰§è¡Œä»»åŠ¡
    results = run_agent(simple_objective)
    
    # ==================== ç»“æœå±•ç¤º ====================
    print("\nğŸ‰ æ‰§è¡Œå®Œæˆï¼")
    print("=" * 60)
    print("ğŸ“Š æœ€ç»ˆç»“æœç»Ÿè®¡:")
    print(f"   - æ€»å…±æ‰§è¡Œäº† {len(results)} ä¸ªæ­¥éª¤")
    print("=" * 60)
    print("ğŸ“‹ è¯¦ç»†æ‰§è¡Œç»“æœ:")
    
    # é€ä¸ªå±•ç¤ºæ¯ä¸ªä»»åŠ¡çš„æ‰§è¡Œç»“æœ
    for i, result in enumerate(results, 1):
        print(f"\nğŸ”¸ æ­¥éª¤ {i} è¯¦ç»†ç»“æœ:")
        print("=" * 40)
        print(result)
        print("=" * 40)
        
except Exception as e:
    # ==================== é”™è¯¯å¤„ç† ====================
    print(f"âŒ æ‰§è¡Œå‡ºé”™: {e}")
    import traceback
    print("\nğŸ” è¯¦ç»†é”™è¯¯ä¿¡æ¯:")
    traceback.print_exc()
    print("\nğŸ’¡ å¯èƒ½çš„è§£å†³æ–¹æ¡ˆ:")
    print("1. æ£€æŸ¥ç½‘ç»œè¿æ¥")
    print("2. ç¡®è®¤APIå¯†é’¥æ˜¯å¦æ­£ç¡®")
    print("3. æ£€æŸ¥APIæ˜¯å¦æœ‰ä½™é¢")
    print("4. ç¡®è®¤æ¨¡å‹åç§°æ˜¯å¦æ­£ç¡®")
